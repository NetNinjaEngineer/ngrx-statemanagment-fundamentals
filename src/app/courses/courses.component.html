<div class="courses-container">
    <!-- Controls -->
    <div class="controls">
        <div class="search-box">
            <app-search-courses (onSearchChanged)="searchCourses($event)"></app-search-courses>
        </div>
        <div class="filter-box">
            <app-course-filter (coursesFilterChanged)="coursesFilterChanged($event)"></app-course-filter>
        </div>
    </div>

    <!-- Search results (if search term exists) -->
    <ng-container *ngIf="(searchTerm$ | async) as query; else filteredCourses">
        <h2 *ngIf="query" class="section-title">Search Results for "{{ query }}"</h2>
        <div class="courses-list">
            <div class="course-card" *ngFor="let course of searchedCourses$ | async">
                <img [src]="course.image" [alt]="course.title" class="course-image" />

                <div class="course-content">
                    <h3 class="course-title">{{ course.title }}</h3>
                    <p class="course-description">{{ course.description }}</p>

                    <div class="course-meta">
                        <span class="course-category">ğŸ“‚ {{ course.category }}</span>
                        <span class="course-duration">â± {{ course.duration }} hrs</span>
                    </div>

                    <div class="course-footer">
                        <span class="course-instructor">ğŸ‘¨â€ğŸ« {{ course.instructor }}</span>
                        <span class="course-rating">â­ {{ course.rating }}</span>
                        <span class="course-price">${{ course.price }}</span>
                    </div>

                    <div *ngIf="!course.isActive" class="course-badge">
                        Not Available
                    </div>
                </div>
            </div>
        </div>
    </ng-container>

    <!-- Filtered courses (default view when no search query) -->
    <ng-template #filteredCourses>
        <h2 class="section-title">Available Courses</h2>
        <div class="courses-list">
            <div class="course-card" *ngFor="let course of courses$ | async">
                <img [src]="course.image" [alt]="course.title" class="course-image" />

                <div class="course-content">
                    <h3 class="course-title">{{ course.title }}</h3>
                    <p class="course-description">{{ course.description }}</p>

                    <div class="course-meta">
                        <span class="course-category">ğŸ“‚ {{ course.category }}</span>
                        <span class="course-duration">â± {{ course.duration }} hrs</span>
                    </div>

                    <div class="course-footer">
                        <span class="course-instructor">ğŸ‘¨â€ğŸ« {{ course.instructor }}</span>
                        <span class="course-rating">â­ {{ course.rating }}</span>
                        <span class="course-price">${{ course.price }}</span>
                    </div>

                    <div *ngIf="!course.isActive" class="course-badge">
                        Not Available
                    </div>
                </div>
            </div>
        </div>
    </ng-template>
</div>